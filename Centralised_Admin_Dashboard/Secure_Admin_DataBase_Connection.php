<?php
// $servername = "localhost"; 
// $username = "root"; 
// $password = "root"; 
// $database = "secure_login_system"; 
// // Create a connection 
// $db = mysqli_connect($servername, $username, $password, $database); 
?>
<?php
    // // Fetch database credentials from environment variables, with fallback values for local development
    // $servername = getenv('DB_HOST') ?: 'localhost'; // Use 'localhost' as default if not set
    // $username = getenv('ADMIN_DB_USER') ?: 'root';        // Use 'root' as default if not set
    // $password = getenv('ADMIN_DB_PASS') ?: 'root';        // Use 'root' as default if not set
    // $database = getenv('ADMIN_DB_NAME') ?: 'secure_login_system';        // Use 'user' as default if not set

    // // Create a connection
    // $db = mysqli_connect($servername, $username, $password, $database);

    // // Check connection
    // if (!$db) {
    //     die("Connection failed: " . mysqli_connect_error());
    // }

    // echo "Server Connected Successfully.";
?>

<?php
// Include the function to load environment variables
require 'load_env.php';

// Load the environment variables from the .env file
load_env('.env');

// Fetch database credentials from environment variables
$servername = getenv('DB_HOST') ?: 'localhost'; // Fallback for local development
$username = getenv('ADMIN_DB_USER') ?: 'root';        // Fallback for local development
$password = getenv('ADMIN_DB_PASS') ?: 'root';        // Fallback for local development
$database = getenv('ADMIN_DB_NAME') ?: 'user';        // Fallback for local development

// Create a connection
$db = mysqli_connect($servername, $username, $password, $database);

// Check connection
if (!$db) {
    error_log("Connection failed: " . mysqli_connect_error()); // Log error to server logs
    die("Connection failed: Unable to connect to the database.");
}

// If the connection is successful
echo "Server Connected Successfully.";
?>
